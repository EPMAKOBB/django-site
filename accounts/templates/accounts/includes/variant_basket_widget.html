{% load i18n %}
{% if request.user.is_authenticated and request.user.teacherprofile and variant_basket_has_items %}
<a href="{% url 'accounts:variant-basket-edit' %}" class="variant-basket-widget" title="{% trans 'Перейти к варианту' %}" aria-label="{% trans 'Перейти к варианту' %}">
  <span class="variant-basket-widget__icon" aria-hidden="true">＋</span>
  <span class="variant-basket-widget__text">{% trans 'Вариант' %}</span>
  <span class="variant-basket-widget__badge">{{ variant_basket_count }}</span>
  <span class="sr-only">{% trans 'Нажмите, чтобы открыть редактирование варианта' %}</span>
  <style>
    .variant-basket-widget{position:fixed;right:16px;bottom:16px;z-index:1000;display:inline-flex;align-items:center;gap:8px;padding:10px 12px;border:1px solid var(--border);border-radius:12px;background:#10161f;color:var(--text);box-shadow:0 6px 20px rgba(0,0,0,.35)}
    .variant-basket-widget:hover{color:var(--accent);border-color:color-mix(in srgb, var(--accent) 60%, var(--border))}
    .variant-basket-widget__icon{font-size:18px;line-height:1}
    .variant-basket-widget__badge{min-width:20px;height:20px;padding:0 6px;display:inline-flex;align-items:center;justify-content:center;border-radius:999px;background:var(--accent);color:#001420;font-weight:700}
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
  </style>
</a>
{% endif %}

